(this["webpackJsonpreact-payments"]=this["webpackJsonpreact-payments"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,a,t){},,,,,,,,,,,function(e,a,t){},,,,,function(e,a,t){},function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},,,function(e,a,t){},,,,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);t(28);var n=t(1),c=t.n(n),r=t(24),i=t.n(r),s=t(5),d=t(9),l=t(8),o=t(4),u=(t(33),"/"),j="/CardAddition",b="/CompleteCardAddition",O="\uce74\ub4dc \ud68c\uc0ac\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",p="id",v={HIDDEN_NUMBER:"\u2022",CARD_NUMBERS_SEPARATOR:" - ",CARD_NUMBERS_SEPARATOR_REG:/[\s-]/g,EXPIRATION_DATE_SEPARATOR:"/"},f={LENGTH:4,PARTIAL_LENGTH:4,FORMATTED_LENGTH:16+3*v.CARD_NUMBERS_SEPARATOR.length},h={LENGTH:4,FORMATTED_LENGTH:4+v.EXPIRATION_DATE_SEPARATOR.length,MONTH_LENGTH:2,YEAR_LENGTH:2},m=2,x=30,N=1,g=30,_={POCO:{name:"\ud3ec\ucf54 \uce74\ub4dc",color:"red"},JUN:{name:"\uc900 \uce74\ub4dc",color:"blue"},PARK:{name:"\uacf5\uc6d0 \uce74\ub4dc",color:"green"},BRAN:{name:"\ube0c\ub79c \uce74\ub4dc",color:"pink"},LOYD:{name:"\ub85c\uc774\ub4dc \uce74\ub4dc",color:"aqua"},DOBI:{name:"\ub3c4\ube44 \uce74\ub4dc",color:"light-pink"},COLIN:{name:"\ucf5c\ub9b0 \uce74\ub4dc",color:"orange"},SUN:{name:"\uc36c \uce74\ub4dc",color:"yellow"},UNKNOWN:{name:"",color:"gray"}},R="small",T="medium",y="large",C="secureCode",E="firstPassword",A="secondPassword",I="cardType",k="targetInput",D="charInsertion",P="charDeletion",M="waitForInsertion",S=(t(34),t(0)),L=function(e){var a=e.type,t=void 0===a?"submit":a,n=e.innerText,c=e.onClick;return Object(S.jsx)("button",{type:t,className:"button",onClick:c,children:n})},w=(t(36),t(17),function(e){var a=e.cardType,t=e.cardNumbers,n=void 0===t?[]:t,c=e.username,r=e.expirationDate,i=e.size;c=c||"NAME",r=r||"MM/YY";var s=Object(o.a)(n,4),l=s[0],u=s[1],j=s[2],b=s[3],O=a.name,p=a.color;return Object(S.jsx)("div",{className:"card card--".concat(i," font-").concat(i),children:Object(S.jsxs)("div",{className:"card__inner bg-".concat(p),children:[Object(S.jsx)("div",{className:"card__inner-card-name font-s",children:O}),Object(S.jsx)("div",{className:"card__inner-chip"}),0!==n.length&&Object(S.jsxs)("ul",{className:"font-l",children:[l&&Object(S.jsx)("li",{children:l}),u&&Object(S.jsx)("li",{children:u}),j&&Object(S.jsx)("li",{children:Object(d.a)(Array(j.length)).map((function(e,a){return Object(S.jsx)("span",{className:"dot"},a)}))}),b&&Object(S.jsx)("li",{children:Object(d.a)(Array(b.length)).map((function(e,a){return Object(S.jsx)("span",{className:"dot"},a)}))})]}),Object(S.jsxs)("div",{className:"card__inner-bottom font-m",children:[Object(S.jsx)("span",{className:"card__inner-bottom-username",children:c}),Object(S.jsx)("span",{className:"card__inner-bottom-expiration-date",children:r})]})]})})}),H=(t(37),function(e){var a=e.title,t=void 0===a?"":a,n=e.onPageBack;return Object(S.jsxs)("header",{className:"header",children:[n&&Object(S.jsx)("button",{onClick:n}),Object(S.jsx)("h2",{children:t})]})}),q=t(27),B=(t(38),c.a.forwardRef((function(e,a){var t=e.type,n=e.placeHolder,c=e.isCenter,r=void 0!==c&&c,i=e.value,s=void 0===i?"":i,d=e.onChange,o=void 0===d?null:d,u=e.disabled,j=void 0!==u&&u,b=Object(q.a)(e,["type","placeHolder","isCenter","value","onChange","disabled"]);return Object(S.jsx)("input",Object(l.a)(Object(l.a)({className:"input ".concat(r?"text-center":""),type:t,placeholder:n,value:s,onChange:o,disabled:j},b),{},{ref:a}))}))),G=(t(39),function(e){var a=e.children,t=e.isVisible,n=e.close;return Object(S.jsx)("div",{className:"modal ".concat(t?"open":""),onClick:function(e){e.target!==e.currentTarget||n()},children:Object(S.jsx)("div",{className:"modal__inner ".concat(t?"open":""),children:a})})}),V=(t(40),t(41),function(e){var a=e.className,t=e.name,n=e.value,c=e.checked,r=e.onChange,i=e.children;return Object(S.jsxs)("label",{className:"".concat(a," radio"),children:[Object(S.jsx)("input",{type:"radio",name:t,value:n,checked:c,onChange:r}),i]})}),U=function(e){var a=e.cardType,t=e.groupName,n=e.isChecked,c=void 0!==n&&n,r=e.onChange;return Object(S.jsxs)(V,{className:"card-type-radio",name:t,value:JSON.stringify(a),checked:c,onChange:r,children:[Object(S.jsx)("div",{className:"card-type-radio__logo bg-".concat(a.color)}),Object(S.jsx)("p",{children:a.name})]})},F=t(18),X=t.n(F),z=function(e){return!/[^0-9]/g.test(e)},K=X.a.mark((function e(){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:return e.next=4,a++;case 4:e.next=1;break;case 6:case"end":return e.stop()}}),e)}))(),Y=function(e){e.sort((function(){return Math.random()-.5}))},J=(t(43),function(e){var a=e.insertInputChar,t=e.deleteInputChar,c=Object(n.useRef)([{value:"1",key:1},{value:"2",key:2},{value:"3",key:3},{value:"4",key:4},{value:"5",key:5},{value:"6",key:6},{value:"7",key:7},{value:"8",key:8},{value:"9",key:9},{value:"0",key:10},{value:"",key:11},{value:"",key:12}]),r=function(e){var t=e.target.dataset.number;a(t),Y(c.current)};return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"virtual-keyboard",children:[c.current.map((function(e){return Object(S.jsx)("button",{className:"key-input ".concat(e.value||"visible-none"),"data-number":e.value,onClick:r,children:e.value},e.key)})),Object(S.jsx)("div",{className:"delete-container",children:Object(S.jsx)("button",{className:"delete-container__button",onClick:function(){t(),Y(c.current)},children:"del"})})]})})}),W=(t(44),function(e){var a=e.isCenter,t=e.value;return Object(S.jsx)("div",{className:"virtual-keyboard-input",tabIndex:"0",children:Object(S.jsx)(B,{type:"password",isCenter:a,value:t,disabled:!0,required:!0})})}),$=(t(45),t(19)),Q=t(3),Z=t.n(Q),ee=function(e){var a=e.slice(0,2),t=Object($.a)(a).slice(0),n=e.slice(2),c=Object($.a)(n).slice(0).map((function(e){return v.HIDDEN_NUMBER.repeat(e.length)}));return[].concat(Object(d.a)(t),Object(d.a)(c)).map((function(e){return e||""})).join(v.CARD_NUMBERS_SEPARATOR)},ae=function(e){var a=e.initialCardNumbers,t=void 0===a?[]:a,c=e.onCardNumbersFullfilled,r=void 0===c?function(){}:c,i=Object(n.useState)(t),s=Object(o.a)(i,2),l=s[0],u=s[1],j=Object(n.useState)(0),b=Object(o.a)(j,2),O=b[0],p=b[1],h=Object(n.useState)(!1),m=Object(o.a)(h,2),x=m[0],N=m[1],g=Object(n.useRef)();return Object(n.useEffect)((function(){var e;null===g||void 0===g||null===(e=g.current)||void 0===e||e.setSelectionRange(O,O)}),[O,l]),Object(n.useEffect)((function(){var e=Object(d.a)(Array(f.LENGTH)).map((function(e,a){var t;return(null===(t=l[a])||void 0===t?void 0:t.length)===f.PARTIAL_LENGTH})).every((function(e){return!0===e}));N(e)}),[l]),Object(n.useEffect)((function(){x&&r()}),[x]),{value:l,formattedValue:ee(l),ref:g,onChange:function(e){var a=e.target,t=a.value,n=a.selectionStart,c=l.join(v.CARD_NUMBERS_SEPARATOR),r=t.length-c.length,i=c;if(r>=0){var s=t[n-1];if(!z(s))return;i=c.slice(0,n-1)+s+c.slice(0===r?n:n-1)}r<0&&(i=c.slice(0,n)+c.slice(n+1));var o=i.replace(v.CARD_NUMBERS_SEPARATOR_REG,""),j=o.replace(/\D/g,"").match(/.{1,4}/g)||[];u(j),p(function(e){var a=f.PARTIAL_LENGTH+v.CARD_NUMBERS_SEPARATOR.length,t=e%a;return Object(d.a)(Array(v.CARD_NUMBERS_SEPARATOR.length-1)).every((function(e,n){return t!==(a-n-1)%a}))?e:e+(a-t+1)}(n))},isFullfilled:x}},te=ae;ae.propTypes={initialCardNumbers:Z.a.array,onCardNumbersFullfilled:Z.a.func};var ne=function(e){var a=Object(n.useState)(e),t=Object(o.a)(a,2),c=t[0],r=t[1];return{value:c,onChange:function(e){var a=e.target.value;r(a)}}},ce=function(e){var a=Object(n.useState)(e),t=Object(o.a)(a,2),c=t[0],r=t[1];return{value:c,onChange:function(e){var a=e.target,t=a.value.replace(v.EXPIRATION_DATE_SEPARATOR,"");z(t)&&r(function(e){var a=e.slice(0,h.MONTH_LENGTH),t=e.slice(h.MONTH_LENGTH);return t?a+"/"+t:a}(t))}}},re=function(e){var a=e.targetInputType,t=e.maxLength,c=e.modalInterface,r=Object(n.useState)(""),i=Object(o.a)(r,2),s=i[0],d=i[1],l=c.closeModal,u=c.dataPassage,j=u.passData,b=u.data,O=b.targetInput,p=b.charInsertion,v=b.charDeletion;return Object(n.useEffect)((function(){var e;p!==M&&null!==p&&(a===O&&(e=p,d((function(a){var n=a+e;return n.length>t?(l(),a):(n.length===t&&l(),n)})),j(D,M)))}),[p]),Object(n.useEffect)((function(){v&&a===O&&(j(P,!1),d((function(e){return e.replace(/\d$/,"")})))}),[v]),{value:s}},ie=re;re.PropType={targetInputType:Z.a.string.isRequired,maxLength:Z.a.string.isRequired,keyboardInterface:Z.a.shape({isModalVisible:Z.a.bool.isRequired,openModal:Z.a.func.isRequired,closeModal:Z.a.func.isRequired,dataPassage:Z.a.shape({data:Z.a.any.isRequired,passData:Z.a.func.isRequired})}).isRequired};var se=function(e){var a=e.modalInterface,t=Object(n.useState)(_.UNKNOWN),c=Object(o.a)(t,2),r=c[0],i=c[1],s=a.dataPassage.data.cardType;return le((function(){s&&i(s)}),[s]),{value:r}},de=se;se.PropType={targetInputType:Z.a.string.isRequired,maxLength:Z.a.string.isRequired,keyboardInterface:Z.a.shape({isModalVisible:Z.a.bool.isRequired,openModal:Z.a.func.isRequired,closeModal:Z.a.func.isRequired,dataPassage:Z.a.shape({data:Z.a.shape({cardType:Z.a.string.isRequired}).isRequired,passData:Z.a.func.isRequired})}).isRequired};var le=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(null===a||void 0===a?void 0:a.length)||console.error("useEffectAfterInitialize \uc5d0\ub7ec : dependency \ubc30\uc5f4\uc740 1\uac1c \uc774\uc0c1\uc758 element\ub97c \uac00\uc9c0\uace0 \uc788\uc5b4\uc57c\ud569\ub2c8\ub2e4.");var t=Object(n.useRef)(!1);Object(n.useEffect)((function(){t.current||(t.current=!0),e()}),a)},oe=function(e){var a=Object(n.useState)(!1),t=Object(o.a)(a,2),c=t[0],r=t[1],i=Object(n.useState)(e),d=Object(o.a)(i,2),u=d[0],j=d[1];return{isModalVisible:c,openModal:function(){r(!0)},closeModal:function(){r(!1)},dataPassage:{data:u,passData:function(e,a){void 0!==u[e]?j(Object(l.a)(Object(l.a)({},u),{},Object(s.a)({},e,a))):console.error("useModalInterface - passData() \uc5d0\ub7ec : \ud574\ub2f9 key \uac12\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}}}},ue=function(e){var a=e.onNewCardSubmit,t=e.cardTypeSelectionModalInterface,n=e.virtualKeyboardModalInterface,c=te({onCardNumbersFullfilled:t.openModal}),r=de({modalInterface:t}),i=ce(""),s=ne(""),d=ie({targetInputType:C,maxLength:3,modalInterface:n}),l=ie({targetInputType:E,maxLength:1,modalInterface:n}),o=ie({targetInputType:A,maxLength:1,modalInterface:n}),u=function(e){return function(){n.dataPassage.passData(k,e),n.openModal()}};return Object(S.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),r.value.name!==_.UNKNOWN.name){var t={cardId:K.next().value,cardType:r.value,cardNumbers:c.value,expirationDate:i.value,username:s.value,secureCode:d.value,firstPassword:l.value,secondPassword:o.value};a(t)}else alert(O)},className:"card-addition__form",children:[Object(S.jsx)("div",{className:"card-addition",children:Object(S.jsx)(w,{cardType:r.value,size:T,expirationDate:i.value,username:s.value,cardNumbers:c.value})}),Object(S.jsx)("div",{className:"card-addition__number-input mt-standard",children:Object(S.jsxs)("label",{children:[Object(S.jsx)("span",{children:"\uce74\ub4dc \ubc88\ud638"}),Object(S.jsx)(B,{type:"text",isCenter:!0,value:c.formattedValue,onChange:c.onChange,ref:c.ref,maxLength:f.FORMATTED_LENGTH,required:!0})]})}),Object(S.jsx)("div",{className:"card-addition__expiration-input mt-standard",children:Object(S.jsxs)("label",{children:[Object(S.jsx)("span",{children:"\ub9cc\ub8cc\uc77c"}),Object(S.jsx)(B,{type:"text",isCenter:!0,placeHolder:"MM / YY",value:i.value,onChange:i.onChange,maxLength:h.FORMATTED_LENGTH,required:!0})]})}),Object(S.jsx)("div",{className:"card-addition__username-input mt-standard",children:Object(S.jsxs)("label",{children:[Object(S.jsx)("span",{children:"\uce74\ub4dc \uc18c\uc720\uc790 \uc774\ub984(\uc120\ud0dd)"}),Object(S.jsxs)("span",{className:"card-addition__username-indicator",children:[s.value.length,"/30"]}),Object(S.jsx)(B,{type:"text",placeHolder:"\uce74\ub4dc\uc5d0 \ud45c\uc2dc\ub41c \uc774\ub984\uacfc \ub3d9\uc77c\ud558\uac8c \uc785\ub825\ud558\uc138\uc694",value:s.value,onChange:s.onChange,maxLength:x,minLength:m,required:!0})]})}),Object(S.jsx)("div",{className:"card-addition__secure-code mt-standard",children:Object(S.jsxs)("label",{children:[Object(S.jsx)("span",{children:"\ubcf4\uc548 \ucf54\ub4dc(CVC/CVV)"}),Object(S.jsxs)("div",{className:"card-addition__secure-code-inner",children:[Object(S.jsx)("div",{onClick:u(C),children:Object(S.jsx)(W,{type:"password",isCenter:!0,value:d.value})}),Object(S.jsx)("div",{className:"card-addition__tool-tip-button",children:Object(S.jsx)("span",{children:"?"})})]})]})}),Object(S.jsxs)("div",{className:"card-addition__password mt-standard",children:[Object(S.jsx)("label",{children:Object(S.jsx)("span",{children:"\uce74\ub4dc\ube44\ubc00\ubc88\ud638"})}),Object(S.jsxs)("div",{className:"card-addition__password-inner",children:[Object(S.jsx)("div",{className:"card-addition__password-inner__password",onClick:u(E),children:Object(S.jsx)(W,{type:"password",isCenter:!0,"aria-label":"\uccab\ubc88\uc9f8 \ube44\ubc00\ubc88\ud638",value:l.value,required:!0})}),Object(S.jsx)("div",{className:"card-addition__password-inner__password",onClick:u(A),children:Object(S.jsx)(W,{type:"password",isCenter:!0,"aria-label":"\ub450\ubc88\uc9f8 \ube44\ubc00\ubc88\ud638",value:o.value,required:!0})}),Object(S.jsx)("div",{className:"card-addition__dot-wrapper",children:Object(S.jsx)("span",{className:"card-addition__dot"})}),Object(S.jsx)("div",{className:"card-addition__dot-wrapper",children:Object(S.jsx)("span",{className:"card-addition__dot"})})]})]}),function(){var e=c.isFullfilled,a=i.value.length===h.LENGTH+v.EXPIRATION_DATE_SEPARATOR.length,t=s.value.length>=m,n=3===d.value.length,r=l.value&&o.value;return e&&a&&t&&n&&r}()&&Object(S.jsx)("div",{className:"card-addition__form-submit",children:Object(S.jsx)(L,{innerText:"\ub2e4\uc74c"})})]})},je=function(e){var a=e.isVisible,t=e.close,n=e.dataPassage;return Object(S.jsx)(G,{isVisible:a,close:t,children:Object(S.jsx)(J,{insertInputChar:function(e){n.passData(D,e)},deleteInputChar:function(){n.passData(P,!0)}})})},be=function(e){var a=e.isVisible,t=e.close,n=e.dataPassage,c=function(e){var a=e.target;n.passData(I,JSON.parse(a.value)),t()};return Object(S.jsx)(G,{isVisible:a,close:t,children:Object(S.jsx)("form",{className:"card-type-radio-box",children:Object.values(_).filter((function(e){return""!==e.name})).map((function(e){var a;return Object(S.jsx)(U,{cardType:e,groupName:"card-type",isChecked:e.name===(null===(a=n.data.cardType)||void 0===a?void 0:a.name),onChange:c},e.name+e.color)}))})})},Oe=c.a.createContext({addNewCard:function(){}}),pe=function(){var e,a=oe(Object(s.a)({},I,null)),t=oe((e={},Object(s.a)(e,k,null),Object(s.a)(e,D,null),Object(s.a)(e,P,!1),e));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Oe.Consumer,{children:function(e){var n=e.addNewCard;return Object(S.jsx)(ue,{onNewCardSubmit:n,cardTypeSelectionModalInterface:a,virtualKeyboardModalInterface:t})}}),Object(S.jsx)(be,{isVisible:a.isModalVisible,close:a.closeModal,dataPassage:a.dataPassage}),Object(S.jsx)(je,{isVisible:t.isModalVisible,close:t.closeModal,dataPassage:t.dataPassage})]})},ve=(t(48),t(2)),fe=function(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),c=t[0],r=t[1];if(!e.card)return alert("\uc608\uc0c1\uce58 \ubabb\ud55c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),Object(S.jsx)(ve.a,{to:u});var i=e.card,s=i.cardId,d=i.cardType,l=i.cardNumbers,j=i.expirationDate,b=i.username;return Object(S.jsxs)("div",{className:"complete-card-addition",children:[Object(S.jsx)("h2",{children:"\uce74\ub4dc\ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),Object(S.jsx)(w,{cardType:d,cardNumbers:l,username:b,expirationDate:j,size:y}),Object(S.jsxs)("form",{onSubmit:function(a){a.preventDefault(),e.onCardAdditionComplete(s,c)},children:[Object(S.jsx)("input",{value:c,onChange:function(e){var a=e.target;r(a.value)},type:"text",minLength:N,maxLength:g,placeholder:"\uce74\ub4dc \ubcc4\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",required:!0}),Object(S.jsx)(L,{innerText:"\ud655\uc778"})]})]})},he=(t(52),t(53),function(e){var a=e.size,t=e.onClick;return Object(S.jsx)("button",{onClick:t,className:"card-addition-button card card--".concat(a," font-").concat(a),children:Object(S.jsx)("div",{className:"card__inner bg-gray",children:Object(S.jsx)("span",{children:"+"})})})}),me=function(e){var a=e.cardList;return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("ul",{className:"my-card-list",children:[a.map((function(e){return Object(S.jsxs)("li",{children:[Object(S.jsx)(w,Object(l.a)(Object(l.a)({},e),{},{size:R})),Object(S.jsx)("p",{children:e.cardDescription})]},e.cardNumbers.join(""))})),Object(S.jsx)("li",{children:Object(S.jsx)(he,{size:R,onClick:function(){e.routeTo(j)}})})]})})},xe=function(){var e,a=Object(n.useState)([]),t=Object(o.a)(a,2),c=t[0],r=t[1],i=Object(ve.g)(),O=Object(ve.h)(),v=function(e){i.replace(e)},f=(e={},Object(s.a)(e,u,{HEADER_TEXT:"\ubcf4\uc720\uce74\ub4dc",onPageBack:null}),Object(s.a)(e,j,{HEADER_TEXT:"\uce74\ub4dc\ucd94\uac00",onPageBack:function(){v(u)}}),Object(s.a)(e,b,{HEADER_TEXT:"",onPageBack:null}),e),h=Object(n.useRef)({addNewCard:function(e){var a=Object(l.a)({cardDescription:null},e);r((function(e){return[].concat(Object(d.a)(e),[a])})),v(b+"?".concat(p,"=").concat(a.cardId))}});return Object(S.jsxs)("div",{className:"app",children:[Object(S.jsx)(H,{title:f[O.pathname].HEADER_TEXT,onPageBack:f[O.pathname].onPageBack}),Object(S.jsx)("main",{children:Object(S.jsxs)(ve.d,{children:[Object(S.jsx)(ve.b,{exact:!0,path:u,children:Object(S.jsx)(me,{cardList:c,routeTo:v})}),Object(S.jsx)(ve.b,{exact:!0,path:j,children:Object(S.jsx)(Oe.Provider,{value:h.current,children:Object(S.jsx)(pe,{})})}),Object(S.jsx)(ve.b,{exact:!0,path:b,children:Object(S.jsx)(fe,{onCardAdditionComplete:function(e,a){r((function(t){return t.map((function(t){return t.cardId!==e||(t.cardDescription=a),t}))})),v(u)},card:c.find((function(e){return String(e.cardId)===new URLSearchParams(O.search).get(p)}))})})]})})]})},Ne=t(26);i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(Ne.a,{basename:"react-payments",children:Object(S.jsx)(xe,{})})}),document.getElementById("root"))}],[[54,1,2]]]);
//# sourceMappingURL=main.59537fd4.chunk.js.map